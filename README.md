## **Код для исследования с точки зрения происходящего в JVM**  

    public class JvmComprehension {

    public static void main(String[] args) {
        int i = 1;                      // 1
        Object o = new Object();        // 2
        Integer ii = 2;                 // 3
        printAll(o, i, ii);             // 4
        System.out.println("finished"); // 7
    }

    private static void printAll(Object o, int i, Integer ii) {
        Integer uselessVar = 700;                   // 5
        System.out.println(o.toString() + i + ii);  // 6
    }
    }
## **Построчное описание происходящего** 

    public class JvmComprehension {

#### Новый класс JvmComprehension отдаётся для загрузки в систему загрузчиков классов (ClassLoader'ов), проверяется валидность кода с точки зрения синтаксиса, и данные о классе помещаются в область памяти Metaspace.  

    public static void main(String[] args) {

#### В момент вызова метода в стеке создаётся фрейм (кадр)  main.

    int i = 1;                      // 1

#### Во фрейм main помещается интовая переменная i co значением 1.

    Object o = new Object();        // 2

#### В куче (heap) cоздаётся новый объект Object, а в стеке во фрейме main создаётся переменная o, содержащая ссылку на этот объект.

    Integer ii = 2;                 // 3

  #### В куче cоздаётся объект типа Integer с значением 2, а в стеке во фрейме main создаётся переменная ii, содержащая ссылку на этот объект.  

    printAll(o, i, ii);             // 4

#### В момент вызова метода в стеке создаётся фрейм printAll.

    private static void printAll(Object o, int i, Integer ii) {

#### Во фрейме printAll создается интовая переменная i c прописанным в стеке значением, а также ссылочные переменные o и ii, со ссылками, ведущими на уже существующие в куче объекты.

    Integer uselessVar = 700;                   // 5

#### В куче cоздаётся объект типа Integer с значением 700, а в стеке во фрейме printAll создаётся переменная uselessVar, содержащая ссылку на этот объект. 

    System.out.println(o.toString() + i + ii);  // 6

#### В стэке фомируется фреймы println и toString.
#### В toString передается ссылка на объект o, а в куче создаётся объект String, куда кладётся строка вычисления метода toString над объектом o. Ссылка на эту строку передается в println в качестве первого аргумента, второй аргумент - интовая переменная i с прописанным значением, третий - ссылка на объект ii в куче. 
#### Фрейм toString удаляется.
#### В куче создаётся объект String, получающийся после слияния трёх аргументов. Ссылка на него передастся во фрейм println. После вывода вычисленной строки на экран фрейм println удаляется. Затем удаляется фрейм printAll
#### На объект Integer со значением 700 ничто не ссылается, его удалит сборщик мусора.

    System.out.println("finished"); // 7

#### В стеке cнова создаётся фрейм println, в куче создастся строка, ссылка на нее передается в стек. После вывода строки на экран фрейм println удаляется.
#### Метод main выполнен,  JVM завершает свою работу.
## **Сборщик мусора**
#### Периодически собирает из кучи объекты, которые больше не используются. Недостижимые объекты удаляются. Достижимые объекты группируются по времени жизни (поколения).